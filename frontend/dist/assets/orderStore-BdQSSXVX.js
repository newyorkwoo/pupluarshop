import{K as o,L as f,f as c}from"./index-BtfrMQy-.js";const s={createOrder(e){return o.post("/orders",e)},getOrders(e){return o.get("/orders",{params:e})},getOrderById(e){return o.get(`/orders/${e}`)},cancelOrder(e){return o.post(`/orders/${e}/cancel`)},validateCoupon(e){return o.post("/coupons/validate",{code:e})}},{validateCoupon:v}=s,y=f("order",()=>{const e=c([]),a=c(null),n=c(!1);async function d(t={}){n.value=!0;try{const{data:r}=await s.getOrders(t);e.value=r.content||r}finally{n.value=!1}}async function u(t){n.value=!0;try{const{data:r}=await s.getOrderById(t);return a.value=r,r}finally{n.value=!1}}async function l(t){const{data:r}=await s.createOrder(t);return a.value=r,r}async function i(t){var r;await s.cancelOrder(t),((r=a.value)==null?void 0:r.id)===t&&(a.value.status="CANCELLED")}return{orders:e,currentOrder:a,loading:n,fetchOrders:d,fetchOrderById:u,createOrder:l,cancelOrder:i}});export{y as u,v};
