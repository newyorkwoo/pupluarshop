import{f as a,k as y,l as v,c as l,b as _,a as c,t as n,h as f,F as h,w as g,u as k,e as b,o as t,g as w}from"./index-BtfrMQy-.js";import{u as S}from"./productStore-C32GSKVk.js";import{_ as q}from"./BaseBreadcrumb-DsToefPo.js";import{_ as B}from"./ProductGrid-Fa_Fbpof.js";import{L as N}from"./LoadingSpinner-Bsqd8eRR.js";import"./product-Ch8gIIad.js";const V={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},C={class:"text-2xl font-light tracking-wider mb-2"},E={class:"text-sm text-brand-gray mb-8"},F={key:1,class:"text-center py-20"},L={class:"text-brand-gray mb-4"},z={__name:"Search",setup(P){const u=k(),s=S(),o=a(!1),r=a([]),i=a(0),e=a(u.query.q||"");async function m(){o.value=!0;try{await s.searchProducts(e.value),r.value=s.products,i.value=s.totalElements}finally{o.value=!1}}return y(()=>u.query.q,p=>{e.value=p||"",m()}),v(()=>m()),(p,d)=>{const x=b("router-link");return t(),l("div",V,[_(q,{items:[{label:"首頁",to:"/"},{label:"搜尋結果"}],class:"mb-8"}),c("h1",C,"搜尋「"+n(e.value)+"」",1),c("p",E,"找到 "+n(i.value)+" 件商品",1),o.value?(t(),f(N,{key:0})):(t(),l(h,{key:1},[r.value.length?(t(),f(B,{key:0,products:r.value},null,8,["products"])):(t(),l("div",F,[c("p",L,"找不到符合「"+n(e.value)+"」的商品",1),_(x,{to:"/products",class:"btn-primary"},{default:g(()=>[...d[0]||(d[0]=[w("瀏覽全部商品",-1)])]),_:1})]))],64))])}}};export{z as default};
