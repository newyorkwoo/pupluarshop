import{c as i,a as t,B as c,b as u,w as f,g as d,t as g,f as o,e as w,o as m,G as b}from"./index-BtfrMQy-.js";import{_ as y}from"./BaseInput-CNSxzZWL.js";import{_}from"./BaseButton-zFFbkYxN.js";const k={class:"min-h-[70vh] flex items-center justify-center px-4"},V={class:"w-full max-w-md"},h={key:1,class:"text-center bg-green-50 p-6 rounded"},B={class:"text-sm text-brand-charcoal"},C={class:"mt-6 text-center text-sm"},P={__name:"ForgotPassword",setup(M){const s=o(""),a=o(""),r=o(!1),x=o(!1);async function p(){var l,e;if(a.value="",!s.value){a.value="請輸入電子郵件";return}r.value=!0;try{await b(s.value),x.value=!0}catch(n){a.value=((e=(l=n.response)==null?void 0:l.data)==null?void 0:e.message)||"發送失敗，請稍後再試"}finally{r.value=!1}}return(l,e)=>{const n=w("router-link");return m(),i("div",k,[t("div",V,[e[6]||(e[6]=t("h1",{class:"text-2xl font-light tracking-wider text-center mb-4"},"忘記密碼",-1)),e[7]||(e[7]=t("p",{class:"text-sm text-brand-gray text-center mb-8"},"請輸入您的電子郵件，我們將寄送重設密碼的連結給您。",-1)),x.value?(m(),i("div",h,[e[3]||(e[3]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 mx-auto text-green-600 mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1.5"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),t("p",B,[e[2]||(e[2]=d("重設密碼連結已發送至 ",-1)),t("strong",null,g(s.value),1)]),e[4]||(e[4]=t("p",{class:"text-xs text-brand-gray mt-2"},"請檢查您的信箱（包括垃圾郵件資料夾）",-1))])):(m(),i("form",{key:0,onSubmit:c(p,["prevent"]),class:"space-y-4"},[u(y,{label:"電子郵件",type:"email",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=v=>s.value=v),error:a.value,required:""},null,8,["modelValue","error"]),u(_,{type:"submit",loading:r.value,class:"w-full"},{default:f(()=>[...e[1]||(e[1]=[d("發送重設連結",-1)])]),_:1},8,["loading"])],32)),t("p",C,[u(n,{to:"/login",class:"text-brand-gray hover:text-brand-black underline"},{default:f(()=>[...e[5]||(e[5]=[d("返回登入",-1)])]),_:1})])])])}}};export{P as default};
