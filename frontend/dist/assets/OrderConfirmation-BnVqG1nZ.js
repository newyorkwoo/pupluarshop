import{l as b,c as o,a as t,g as d,t as e,x as a,C as y,F as g,r as v,y as p,m as w,b as m,w as c,u as _,f as k,e as j,o as l}from"./index-BtfrMQy-.js";import{u as C}from"./orderStore-BdQSSXVX.js";const h={class:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8 py-16 text-center"},B={class:"text-brand-gray mb-8"},N={class:"text-brand-black"},V={key:0,class:"text-left bg-brand-cream p-6 mb-8"},A={class:"space-y-3 text-sm"},M={class:"flex justify-between"},O={class:"flex justify-between"},S={class:"flex justify-between"},D={class:"border-t border-brand-gray/20 pt-3 mt-3"},F={class:"border-t border-brand-gray/20 pt-3 flex justify-between font-semibold"},I={class:"flex justify-center gap-4"},T={__name:"OrderConfirmation",setup(L){const f=_(),x=C(),i=f.params.id,r=k(null);return b(async()=>{try{r.value=await x.fetchOrderById(i)}catch{}}),(q,s)=>{const u=j("router-link");return l(),o("div",h,[s[8]||(s[8]=t("div",{class:"w-16 h-16 mx-auto mb-6 rounded-full bg-green-50 flex items-center justify-center"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})])],-1)),s[9]||(s[9]=t("h1",{class:"text-2xl font-light tracking-wider mb-2"},"訂單已成立",-1)),t("p",B,[s[0]||(s[0]=d("感謝您的購買！您的訂單編號為 ",-1)),t("strong",N,e(a(i)),1)]),r.value?(l(),o("div",V,[s[5]||(s[5]=t("h2",{class:"text-sm uppercase tracking-[0.15em] font-semibold mb-4"},"訂單明細",-1)),t("div",A,[t("div",M,[s[1]||(s[1]=t("span",{class:"text-brand-gray"},"訂單日期",-1)),t("span",null,e(a(y)(r.value.createdAt)),1)]),t("div",O,[s[2]||(s[2]=t("span",{class:"text-brand-gray"},"付款方式",-1)),t("span",null,e(r.value.paymentMethod),1)]),t("div",S,[s[3]||(s[3]=t("span",{class:"text-brand-gray"},"配送地址",-1)),t("span",null,e(r.value.shippingAddress),1)]),t("div",D,[(l(!0),o(g,null,v(r.value.items,n=>(l(),o("div",{key:n.id,class:"flex justify-between py-1"},[t("span",null,e(n.productName)+" × "+e(n.quantity),1),t("span",null,e(a(p)(n.subtotal)),1)]))),128))]),t("div",F,[s[4]||(s[4]=t("span",null,"合計",-1)),t("span",null,e(a(p)(r.value.totalAmount)),1)])])])):w("",!0),t("div",I,[m(u,{to:"/account/orders",class:"btn-secondary"},{default:c(()=>[...s[6]||(s[6]=[d("查看訂單",-1)])]),_:1}),m(u,{to:"/products",class:"btn-primary"},{default:c(()=>[...s[7]||(s[7]=[d("繼續購物",-1)])]),_:1})])])}}};export{T as default};
